<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2215%22 fill=%22%232563eb%22/><text x=%2250%22 y=%2258%22 font-size=%2255%22 text-anchor=%22middle%22 fill=%22white%22>Œ£</text></svg>">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
  <title>Dashboard Pedidos</title>
</head>
<body>
  <header class="topbar">
    <h1>Dashboard de Pedidos</h1>
    <div class="filters">
      <label for="dataInicio">Per√≠odo:</label>
      <input type="date" id="dataInicio">
      <span>at√©</span>
      <input type="date" id="dataFim">
      <label for="horaFiltro">Hora:</label>
      <select id="horaFiltro">
        <option value="">Todas</option>
      </select>
      <label for="vendedorFiltro">Vendedor:</label>
      <select id="vendedorFiltro">
        <option value="">Todos</option>
      </select>
      <button id="btnReload" type="button">Aplicar</button>
      <button id="btnCarregarMais" type="button">Carregar mais</button>
      <button id="btnCarregarTudo" type="button">Carregar tudo</button>
    </div>
  </header>

  <main class="container">
    <!-- KPIs -->
    <section class="kpi-row">
      <div class="kpi-card">
        <div class="kpi-icon">R$</div>
        <div class="kpi-body">
          <span class="kpi-label">Faturamento do Per√≠odo</span>
          <span id="kpi-faturamento" class="kpi-value">‚Äî</span>
        </div>
      </div>

      <div class="kpi-card">
        <div class="kpi-icon">‚àÖ</div>
        <div class="kpi-body">
          <span class="kpi-label">Ticket M√©dio</span>
          <span id="kpi-ticket" class="kpi-value">‚Äî</span>
        </div>
      </div>

      <div class="kpi-card">
        <div class="kpi-icon">#</div>
        <div class="kpi-body">
          <span class="kpi-label">N¬∫ de Pedidos</span>
          <span id="kpi-pedidos" class="kpi-value">‚Äî</span>
        </div>
      </div>

      <div class="kpi-card">
        <div class="kpi-icon">üè¢</div>
        <div class="kpi-body">
          <span class="kpi-label">Empresas</span>
          <span id="kpi-empresas" class="kpi-value">‚Äî</span>
        </div>
      </div>
    </section>
    <!-- /KPIs -->

    <section class="card">
      <h2 id="listaTitulo" class="card-title">Lista de Pedidos <span id="listaAviso" class="badge">Exibindo 2 (clique para ver 20)</span></h2>
      <div class="table-wrapper">
        <table id="pedidosTable">
          <thead>
            <tr>
              <th>Num. Pedido</th>
              <th>Data de Emiss√£o</th>
              <th>Total (R$)</th>
              <th>Vendedor</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Primeira linha: Pizza (Top 10 Produtos) -->
    <section class="card">
      <h2 class="card-title">Top 10 Produtos (Barras)</h2>
      <div class="chart-box"><canvas id="pieChart"></canvas></div>
    </section>

    <!-- Segunda linha: Linha e Barras lado a lado -->
    <section class="grid-charts">
      <div class="card">
        <h2 class="card-title">Total por Data (Linha)</h2>
        <div class="chart-box"><canvas id="lineChart"></canvas></div>
      </div>

      <div class="card">
        <h2 class="card-title">Total por Empresa (Barras)</h2>
        <div class="chart-box"><canvas id="barChart"></canvas></div>
      </div>
    </section>
  </main>

  <!-- Removido o UMD. Vamos importar como ES Module dentro do dashboard.js -->
  <script type="module" src="dashboard.js?v=7"></script>
</body>
</html>
